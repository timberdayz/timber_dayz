# 统一采集器管理器配置
# 文件名: collection_manager.yaml
# 用途: 配置采集管理器的运行参数

# 采集模式配置
collection_mode: "resource_safe"  # full_power: 全力同时采集, resource_safe: 降低压力分组采集

# 并发控制
max_concurrent_tasks: 2          # 最大并发任务数（基于2核服务器限制）
max_retries: 3                   # 最大重试次数
retry_delay: 30                  # 重试延迟（秒）

# 资源管理
resource_management:
  cpu_warning_threshold: 70.0    # CPU使用率警告阈值
  cpu_critical_threshold: 85.0   # CPU使用率危险阈值
  memory_warning_threshold: 75.0 # 内存使用率警告阈值
  memory_critical_threshold: 90.0 # 内存使用率危险阈值
  disk_warning_threshold: 80.0   # 磁盘使用率警告阈值
  disk_critical_threshold: 95.0  # 磁盘使用率危险阈值
  network_warning_threshold: 80.0 # 网络带宽使用率警告阈值

# 任务调度
task_scheduling:
  default_priority: 1            # 默认任务优先级
  max_queue_size: 1000          # 最大队列大小
  cleanup_interval_hours: 24    # 清理间隔（小时）
  task_timeout: 3600            # 任务超时时间（秒）

# 数据同步
data_sync:
  batch_size: 1000              # 批量同步大小
  sync_interval: 60             # 同步间隔（秒）
  conflict_strategy: "keep_latest" # 冲突处理策略: skip, overwrite, merge, keep_latest
  enable_duplicate_check: true  # 启用重复检查
  enable_data_validation: true  # 启用数据验证

# 日志配置
logging:
  level: "INFO"                  # 日志级别: DEBUG, INFO, WARNING, ERROR
  max_file_size: "10MB"         # 最大日志文件大小
  backup_count: 5               # 备份文件数量
  enable_console_output: true   # 启用控制台输出
  enable_file_output: true      # 启用文件输出

# 监控配置
monitoring:
  resource_check_interval: 10   # 资源检查间隔（秒）
  health_check_interval: 300    # 健康检查间隔（秒）
  status_update_interval: 30    # 状态更新间隔（秒）
  enable_performance_metrics: true # 启用性能指标

# 安全配置
security:
  enable_encryption: false      # 启用数据加密
  session_timeout: 86400        # 会话超时时间（秒）
  max_failed_attempts: 5       # 最大失败尝试次数
  enable_ip_whitelist: false   # 启用IP白名单

# 备份配置
backup:
  enable_auto_backup: true     # 启用自动备份
  backup_interval_hours: 24    # 备份间隔（小时）
  max_backup_files: 30         # 最大备份文件数
  backup_directory: "temp/backups" # 备份目录

# 通知配置
notifications:
  enable_email_notifications: false # 启用邮件通知
  enable_webhook_notifications: false # 启用Webhook通知
  notification_events:           # 通知事件
    - "task_completed"          # 任务完成
    - "task_failed"             # 任务失败
    - "system_error"            # 系统错误
    - "resource_warning"        # 资源警告

# 平台特定配置
platforms:
  shopee:
    enabled: true
    priority: 1
    max_concurrent: 1
    data_types: ["orders", "products", "sales"]
    
  miaoshou:
    enabled: true
    priority: 1
    max_concurrent: 1
    data_types: ["orders", "products", "sales", "finance"]
    
  amazon:
    enabled: false
    priority: 2
    max_concurrent: 1
    data_types: ["orders", "products", "sales", "inventory"]
    
  lazada:
    enabled: false
    priority: 2
    max_concurrent: 1
    data_types: ["orders", "products", "sales"]
    
  tiktok:
    enabled: false
    priority: 3
    max_concurrent: 1
    data_types: ["orders", "products", "sales", "analytics"]

# 高级配置
advanced:
  enable_debug_mode: false      # 启用调试模式
  enable_profiling: false      # 启用性能分析
  enable_memory_profiling: false # 启用内存分析
  gc_threshold: 1000           # 垃圾回收阈值
  enable_async_processing: true # 启用异步处理
  max_worker_threads: 4        # 最大工作线程数 