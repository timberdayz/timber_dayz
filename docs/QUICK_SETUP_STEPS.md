# Supersetå¿«é€Ÿè®¾ç½®æ­¥éª¤ï¼ˆ5åˆ†é’Ÿå®Œæˆï¼‰

## âœ… å½“å‰çŠ¶æ€
- âœ… Supersetå·²éƒ¨ç½²å¹¶è¿è¡Œ: http://localhost:8088
- âœ… PostgreSQLè§†å›¾å·²åˆ›å»ºï¼ˆ11ä¸ªè§†å›¾/ç‰©åŒ–è§†å›¾ï¼‰
- âœ… ç½‘ç»œè¿æ¥å·²é…ç½®ï¼ˆSupersetå¯ä»¥è®¿é—®PostgreSQLï¼‰
- â³ éœ€è¦åœ¨Superset UIä¸­å®Œæˆæ•°æ®åº“è¿æ¥å’Œæ•°æ®é›†åˆ›å»º

## ğŸš€ å¿«é€Ÿæ“ä½œæ­¥éª¤

### æ­¥éª¤1: åˆ›å»ºæ•°æ®åº“è¿æ¥ï¼ˆ2åˆ†é’Ÿï¼‰

1. **æ‰“å¼€Superset**: http://localhost:8088
2. **ç™»å½•**: admin / admin
3. **è¿›å…¥æ•°æ®åº“ç®¡ç†**:
   - ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ  **"Data"** â†’ **"Databases"**
4. **åˆ›å»ºæ•°æ®åº“è¿æ¥**:
   - ç‚¹å‡» **"+ Database"** æŒ‰é’®
   - **Database Name**: `xihong_erp`
   - **SQLAlchemy URI**: 
     ```
     postgresql+psycopg2://erp_user:erp_pass_2025@xihong_erp_postgres:5432/xihong_erp
     ```
   - **é‡è¦**: ä½¿ç”¨ `xihong_erp_postgres` è€Œä¸æ˜¯ `host.docker.internal`
5. **æµ‹è¯•è¿æ¥**:
   - ç‚¹å‡» **"Test Connection"**
   - åº”è¯¥æ˜¾ç¤º "Connection looks good!"
6. **ä¿å­˜**: ç‚¹å‡» **"Save"**

### æ­¥éª¤2: åˆ·æ–°å…ƒæ•°æ®ï¼ˆ30ç§’ï¼‰

1. åœ¨æ•°æ®åº“è¯¦æƒ…é¡µï¼Œç‚¹å‡» **"Sync columns from source"** æˆ– **"Refresh metadata"**
2. ç­‰å¾…åˆ·æ–°å®Œæˆï¼ˆå‡ ç§’é’Ÿï¼‰
3. åˆ·æ–°åï¼Œåº”è¯¥èƒ½çœ‹åˆ°æ‰€æœ‰è¡¨å’Œè§†å›¾åˆ—è¡¨

### æ­¥éª¤3: åˆ›å»ºæ•°æ®é›†ï¼ˆ2åˆ†é’Ÿï¼‰

**æ–¹æ³•1: æ‰¹é‡åˆ›å»ºï¼ˆæ¨èï¼‰**

è¿è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ•°æ®åº“è¿æ¥åˆ›å»ºåï¼‰:
```bash
python scripts/init_superset_datasets.py
```

**æ–¹æ³•2: æ‰‹åŠ¨åˆ›å»º**

1. ç‚¹å‡» **"Data"** â†’ **"Datasets"**
2. ç‚¹å‡» **"+ Dataset"**
3. ä¾æ¬¡åˆ›å»ºä»¥ä¸‹10ä¸ªæ•°æ®é›†:

| è¡¨å | è¯´æ˜ |
|------|------|
| view_orders_atomic | è®¢å•åŸå­è§†å›¾ |
| view_shop_performance_wide | åº—é“ºç»©æ•ˆå®½è¡¨ â­æ ¸å¿ƒ |
| view_product_performance_wide | äº§å“ç»©æ•ˆå®½è¡¨ |
| mv_daily_sales_summary | æ¯æ—¥é”€å”®æ±‡æ€» |
| mv_monthly_shop_performance | æœˆåº¦åº—é“ºç»©æ•ˆ |
| mv_product_sales_ranking | äº§å“é”€å”®æ’è¡Œ |
| mv_shop_pnl_daily | åº—é“ºæ¯æ—¥ç›ˆäº |
| mv_traffic_daily | æ¯æ—¥æµé‡ |
| mv_inventory_turnover_daily | æ¯æ—¥åº“å­˜å‘¨è½¬ |
| view_targets_atomic | ç›®æ ‡åŸå­è§†å›¾ |

### æ­¥éª¤4: éªŒè¯ï¼ˆ30ç§’ï¼‰

1. è¿›å…¥ **"Data"** â†’ **"Datasets"**
2. ç¡®è®¤æ‰€æœ‰10ä¸ªæ•°æ®é›†éƒ½å·²åˆ›å»º
3. ç‚¹å‡»ä»»æ„æ•°æ®é›†ï¼Œæ£€æŸ¥åˆ—æ˜¯å¦æ­£ç¡®æ˜¾ç¤º

## ğŸ“‹ å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] æ•°æ®åº“è¿æ¥å·²åˆ›å»ºå¹¶æµ‹è¯•é€šè¿‡
- [ ] å…ƒæ•°æ®å·²åˆ·æ–°
- [ ] 10ä¸ªæ•°æ®é›†å·²åˆ›å»º
- [ ] æ•°æ®é›†å¯ä»¥æ­£å¸¸è®¿é—®

## ğŸ¯ ä¸‹ä¸€æ­¥

å®Œæˆæ•°æ®é›†åˆ›å»ºåï¼Œå¯ä»¥ï¼š
1. åˆ›å»ºä¸šåŠ¡æ¦‚è§ˆDashboard
2. é…ç½®è®¡ç®—åˆ—
3. åˆ›å»ºå›¾è¡¨å’Œå¯è§†åŒ–

---

**é¢„è®¡æ€»æ—¶é—´**: 5åˆ†é’Ÿ  
**è¯¦ç»†æŒ‡å—**: å‚è§ `docs/SUPERSET_MANUAL_SETUP_GUIDE.md`

