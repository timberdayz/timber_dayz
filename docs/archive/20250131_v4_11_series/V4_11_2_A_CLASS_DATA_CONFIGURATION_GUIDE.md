# A类数据配置指南（用户配置数据）

**版本**: v4.11.2  
**日期**: 2025-11-15

## 📋 A类数据配置页面清单

A类数据是用户配置数据，需要在系统中手动创建和设置。以下是所有A类数据的配置页面：

### 1. 销售战役管理 ⭐

**页面路径**: `/sales-campaign-management`  
**页面文件**: `frontend/src/views/sales/CampaignManagement.vue`  
**路由名称**: `SalesCampaignManagement`

**功能**:
- ✅ 创建销售战役（战役名称、类型、时间范围、目标销售额）
- ✅ 编辑销售战役
- ✅ 删除销售战役
- ✅ 查看战役详情和达成情况
- ✅ 添加/移除参与店铺
- ✅ 手动触发达成率计算

**配置项**:
- 战役名称
- 战役类型（节假日/新品上市/特殊促销）
- 时间范围（开始日期 - 结束日期）
- 目标销售额（万元）
- 目标订单数（可选）
- 参与店铺列表

**访问权限**: `campaign:read`（管理员、经理、运营）

---

### 2. 目标管理 ⭐

**页面路径**: `/target-management`  
**页面文件**: `frontend/src/views/target/TargetManagement.vue`  
**路由名称**: `TargetManagement`

**功能**:
- ✅ 创建销售目标（目标名称、类型、时间周期、目标金额/数量）
- ✅ 编辑销售目标
- ✅ 删除销售目标
- ✅ 目标拆分（店铺拆分/时间拆分）
- ✅ 查看目标详情和达成情况
- ✅ 手动触发达成率计算

**配置项**:
- 目标名称
- 目标类型（店铺目标/产品目标/战役目标）
- 时间周期（开始日期 - 结束日期）
- 目标金额（万元）
- 目标数量（订单数/销量）
- 目标拆分：
  - 店铺拆分：按店铺分配目标
  - 时间拆分：按时间段分配目标

**访问权限**: `target:read`（管理员、经理）

---

### 3. 绩效权重配置 ⭐

**页面路径**: `/performance-management`  
**页面文件**: `frontend/src/views/hr/PerformanceManagement.vue`  
**路由名称**: `PerformanceManagement`

**功能**:
- ✅ 配置绩效权重（销售额/毛利/重点产品/运营）
- ✅ 查看绩效公示
- ✅ 导出绩效报表

**配置项**:
- 销售额权重（%）
- 毛利权重（%）
- 重点产品权重（%）
- 运营权重（%）
- **约束**: 四项权重总和必须等于100%

**访问权限**: `performance:read`（管理员、经理）

---

## 🗺️ 导航路径

### 从菜单导航

1. **销售战役管理**:
   ```
   销售与分析 → 销售战役管理
   ```

2. **目标管理**:
   ```
   销售与分析 → 目标管理
   ```

3. **绩效权重配置**:
   ```
   人力资源 → 绩效管理 → 配置权重
   ```

### 直接URL访问

- 销售战役: `http://localhost:5173/#/sales-campaign-management`
- 目标管理: `http://localhost:5173/#/target-management`
- 绩效管理: `http://localhost:5173/#/performance-management`

---

## 📊 数据流程说明

### A类数据 → B类数据 → C类数据

1. **A类数据（用户配置）**:
   - 在配置页面创建销售战役、目标、绩效权重
   - 数据存储在：`sales_campaigns`, `sales_targets`, `performance_config`表

2. **B类数据（业务数据）**:
   - 从电商平台导出Excel文件
   - 通过字段映射系统识别字段
   - 自动入库到：`fact_orders`, `fact_product_metrics`表

3. **C类数据（系统计算）**:
   - 系统自动计算达成率（实际值/目标值）
   - 系统自动计算健康度评分
   - 系统自动计算排名和预警
   - 更新：`sales_campaigns.achievement_rate`, `shop_health_scores`等字段

---

## ⚙️ 配置示例

### 创建销售战役示例

1. 进入"销售战役管理"页面
2. 点击"创建战役"按钮
3. 填写表单：
   - 战役名称: "双11大促"
   - 战役类型: "节假日"
   - 时间范围: 2025-11-01 至 2025-11-11
   - 目标销售额: 100.00（万元）
   - 参与店铺: 选择Shopee新加坡旗舰店、Lazada新加坡店等
4. 点击"确定"保存

### 创建目标示例

1. 进入"目标管理"页面
2. 点击"创建目标"按钮
3. 填写表单：
   - 目标名称: "11月销售目标"
   - 目标类型: "店铺目标"
   - 时间周期: 2025-11-01 至 2025-11-30
   - 目标金额: 500.00（万元）
   - 目标数量: 5000（订单数）
4. 配置目标拆分（可选）：
   - 店铺拆分：为每个店铺分配具体目标
   - 时间拆分：按周/月分配目标
5. 点击"确定"保存

### 配置绩效权重示例

1. 进入"绩效管理"页面
2. 点击"配置权重"按钮
3. 设置权重：
   - 销售额权重: 30%
   - 毛利权重: 25%
   - 重点产品权重: 25%
   - 运营权重: 20%
   - **总权重**: 100% ✅
4. 点击"确定"保存

---

## 🔄 自动计算触发

### 定时任务（自动）

- **达成率计算**: 每天凌晨2:00自动计算所有销售战役和目标的达成率
- **健康度评分**: 每天凌晨2:00自动计算所有店铺的健康度评分
- **排名计算**: 每天凌晨3:00自动计算店铺赛马排名和滞销清理排名

### 手动触发

- **销售战役**: 在战役详情页面点击"计算达成情况"按钮
- **目标管理**: 在目标详情页面点击"计算达成情况"按钮
- **健康度评分**: 在店铺分析页面点击"计算健康度"按钮

---

## 📝 注意事项

1. **权限要求**:
   - 创建/编辑需要相应权限（`campaign:create`, `target:create`, `performance:config`）
   - 查看需要读取权限（`campaign:read`, `target:read`, `performance:read`）

2. **数据验证**:
   - 销售战役：结束日期必须大于开始日期
   - 目标管理：目标拆分总和不能超过总目标
   - 绩效权重：四项权重总和必须等于100%

3. **C类数据更新**:
   - 创建A类数据后，系统会在定时任务中自动计算C类数据
   - 也可以手动触发计算，立即查看结果

4. **数据依赖**:
   - C类数据计算依赖B类数据（fact_orders, fact_product_metrics）
   - 如果B类数据未采集，C类数据将显示为0或空值

---

## 🔗 相关文档

- [核心数据流程设计](./CORE_DATA_FLOW.md) - 完整数据流程说明
- [数据源和字段映射设计](./DATA_SOURCE_AND_FIELD_MAPPING_DESIGN.md) - 数据分类详细说明
- [API契约文档](../API_CONTRACT.md) - API接口说明

