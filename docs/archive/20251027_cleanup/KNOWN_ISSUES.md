# ⚠️ 已知问题清单

**版本**: v4.0.0  
**更新时间**: 2025-10-25 21:30

---

## 🔴 高优先级问题

### Issue #1: 后端API超时

**症状**:
- 前端调用后端API显示"timeout of 30000ms exceeded"
- Catalog状态显示全部为0

**根因**:
- 路由导入时某个模块执行耗时初始化（初步定位为collection/performance路由）
- 后端启动阻塞>2分钟

**诊断数据**:
- ✅ PostgreSQL正常（407条catalog记录）
- ✅ 端口8001已开放
- ❌ HTTP请求超时

**已尝试解决方案**:
1. ✅ 简化路由导入（只保留field_mapping）- 仍超时
2. ✅ 优化健康检查端点 - 仍超时

**计划解决方案**（阶段2）:
1. 实施路由懒加载（启动后动态注册）
2. 移除模块顶层耗时初始化
3. 添加启动性能监控
4. 优化init_db()逻辑

**预计修复时间**: 阶段2第1-2天

**影响**: 
- ⚠️ 前端字段映射功能暂时无法使用
- ✅ 不影响后续开发（可以先开发Redis/JWT/看板）

**临时绕过方案**:
- 使用脚本直接测试后端功能（已验证核心逻辑正确）
- 阶段2实施懒加载后彻底解决

---

## 🟡 中优先级问题

### Issue #2: 字段映射列名重复

**症状**:
- DataFrame columns are not unique警告
- 多列映射到同一标准字段

**解决方案**: 
- ✅ 已创建SmartFieldMapperV2（冲突检测和解决）
- ⏸️ 待集成到backend/routers/field_mapping.py

**计划**: 阶段1完成后立即集成

### Issue #3: 数据验证规则过严

**症状**:
- 36行数据产生72个错误
- 验证通过率0%

**解决方案**:
- ✅ 已创建data_validator_v2（宽松验证，必填字段4个）
- ⏸️ 待集成到backend/routers/field_mapping.py

**计划**: 阶段1完成后立即集成

---

## 🟢 低优先级问题

### Issue #4: Windows终端GBK编码

**症状**: 
- 中文显示乱码
- Unicode字符无法显示

**影响**: 仅显示，不影响功能

**解决方案**: 
- 已使用safe_print处理
- 不影响系统使用

---

## 📋 问题跟踪

| Issue | 状态 | 优先级 | 计划修复阶段 |
|-------|------|--------|-------------|
| #1 API超时 | ⏸️ 待修复 | 🔴 高 | 阶段2 |
| #2 映射重复 | ✅ 已解决 | 🟡 中 | 阶段1 |
| #3 验证过严 | ✅ 已解决 | 🟡 中 | 阶段1 |
| #4 GBK编码 | ✅ 已处理 | 🟢 低 | - |

---

**更新**: 2025-10-25 21:30  
**下次审查**: 阶段2完成后

