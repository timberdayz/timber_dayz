# æ™ºèƒ½å­—æ®µæ˜ å°„å®¡æ ¸ç³»ç»Ÿ - å®Œæ•´è¯´æ˜æ–‡æ¡£

**ç‰ˆæœ¬**: v1.0.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-01-26  
**ä½œè€…**: AI ä¸“å®¶çº§æ•°æ®å·¥ç¨‹å¸ˆ

---

## ğŸ“‹ ç›®å½•

1. [ç³»ç»Ÿè®¾è®¡ç›®çš„](#ç³»ç»Ÿè®¾è®¡ç›®çš„)
2. [å·¥ä½œåŸç†](#å·¥ä½œåŸç†)
3. [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
4. [æ•°æ®æµç¨‹](#æ•°æ®æµç¨‹)
5. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
6. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
7. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## ğŸ¯ ç³»ç»Ÿè®¾è®¡ç›®çš„

### æ ¸å¿ƒåŠŸèƒ½

**æ™ºèƒ½å­—æ®µæ˜ å°„å®¡æ ¸ç³»ç»Ÿ**æ˜¯è¥¿è™¹ERPè·¨å¢ƒç”µå•†æ•°æ®ç®¡ç†ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š

1. **è‡ªåŠ¨è¯†åˆ«é‡‡é›†æ–‡ä»¶**ï¼šæ‰«æ `temp/outputs` ç›®å½•ä¸‹çš„æ‰€æœ‰é‡‡é›†æ–‡ä»¶
2. **æ™ºèƒ½å­—æ®µæ˜ å°„**ï¼šåŸºäºAIç®—æ³•è‡ªåŠ¨åŒ¹é…æºæ–‡ä»¶å­—æ®µåˆ°æ ‡å‡†æ•°æ®åº“å­—æ®µ
3. **äººæœºåä½œå­¦ä¹ **ï¼šæ”¯æŒäººå·¥å®¡æ ¸å’Œè°ƒæ•´ï¼Œç³»ç»ŸæŒç»­å­¦ä¹ ä¼˜åŒ–
4. **æ•°æ®å…¥åº“å‡†å¤‡**ï¼šä¸ºæ•°æ®å…¥åº“æä¾›å‡†ç¡®çš„å­—æ®µæ˜ å°„å…³ç³»

### è§£å†³çš„ä¸šåŠ¡é—®é¢˜

#### 1. **å¤šå¹³å°æ•°æ®æ ‡å‡†åŒ–éš¾é¢˜**
- **é—®é¢˜**ï¼šä¸åŒç”µå•†å¹³å°ï¼ˆShopeeã€TikTokã€å¦™æ‰‹ERPç­‰ï¼‰çš„æ•°æ®å¯¼å‡ºæ ¼å¼å„ä¸ç›¸åŒ
- **è§£å†³**ï¼šé€šè¿‡æ™ºèƒ½å­—æ®µæ˜ å°„ï¼Œå°†ä¸åŒå¹³å°çš„å­—æ®µç»Ÿä¸€æ˜ å°„åˆ°æ ‡å‡†æ•°æ®åº“å­—æ®µ

#### 2. **æ‰‹åŠ¨æ˜ å°„æ•ˆç‡ä½ä¸‹**
- **é—®é¢˜**ï¼šä¼ ç»Ÿæ–¹å¼éœ€è¦äººå·¥é€ä¸ªå­—æ®µå¯¹åº”ï¼Œè€—æ—¶ä¸”å®¹æ˜“å‡ºé”™
- **è§£å†³**ï¼šAIè‡ªåŠ¨åŒ¹é… + äººå·¥å®¡æ ¸ï¼Œæ•ˆç‡æå‡90%+

#### 3. **æ•°æ®è´¨é‡éš¾ä»¥ä¿è¯**
- **é—®é¢˜**ï¼šå­—æ®µæ˜ å°„é”™è¯¯å¯¼è‡´æ•°æ®å…¥åº“å¤±è´¥æˆ–æ•°æ®é”™è¯¯
- **è§£å†³**ï¼šç½®ä¿¡åº¦è¯„åˆ† + äººå·¥å®¡æ ¸ + å†å²å­¦ä¹ ï¼Œç¡®ä¿æ˜ å°„å‡†ç¡®æ€§

#### 4. **æ–°å¹³å°æ¥å…¥æˆæœ¬é«˜**
- **é—®é¢˜**ï¼šæ¯æ¬¡æ¥å…¥æ–°å¹³å°éƒ½éœ€è¦é‡æ–°é…ç½®å­—æ®µæ˜ å°„
- **è§£å†³**ï¼šåŸºäºå†å²æ˜ å°„è®°å½•ï¼Œæ–°å¹³å°å­—æ®µè‡ªåŠ¨æ¨èæ˜ å°„

### åœ¨ERPç³»ç»Ÿä¸­çš„å®šä½

```
æ•°æ®é‡‡é›† â†’ å­—æ®µæ˜ å°„å®¡æ ¸ â†’ æ•°æ®å…¥åº“ â†’ æ•°æ®åˆ†æ â†’ ä¸šåŠ¡å†³ç­–
           â†‘ å½“å‰ç³»ç»Ÿ â†‘
```

**å­—æ®µæ˜ å°„å®¡æ ¸ç³»ç»Ÿ**æ˜¯æ•°æ®é‡‡é›†å’Œæ•°æ®å…¥åº“ä¹‹é—´çš„å…³é”®æ¡¥æ¢ï¼š
- **ä¸Šæ¸¸**ï¼šæ¥æ”¶å„å¹³å°é‡‡é›†çš„åŸå§‹æ•°æ®æ–‡ä»¶
- **ä¸‹æ¸¸**ï¼šä¸ºæ•°æ®å…¥åº“æä¾›å‡†ç¡®çš„å­—æ®µæ˜ å°„å…³ç³»
- **æ ¸å¿ƒä»·å€¼**ï¼šç¡®ä¿æ•°æ®è´¨é‡ï¼Œæå‡æ•°æ®å¤„ç†æ•ˆç‡

---

## âš™ï¸ å·¥ä½œåŸç†

### 1. æ–‡ä»¶æ‰«æä¸è¯†åˆ«

#### æ‰«ææœºåˆ¶
```python
# æ‰«æ temp/outputs ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
temp/outputs/
â”œâ”€â”€ shopee/
â”‚   â”œâ”€â”€ shopeeæ–°åŠ å¡3cåº—/
â”‚   â”‚   â”œâ”€â”€ clicks.sg__1407964586/
â”‚   â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ 20250916_143612__...xlsx
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ 20250916_143612__...xlsx.json  # æ—æ–‡ä»¶
```

#### è¯†åˆ«è§„åˆ™
1. **æ”¯æŒçš„æ–‡ä»¶æ ¼å¼**ï¼š`.xlsx`, `.xls`, `.csv`
2. **è·¯å¾„ç»“æ„éªŒè¯**ï¼š`å¹³å°/è´¦å·/åº—é“º/æ•°æ®åŸŸ/ç²’åº¦/`
3. **æ—æ–‡ä»¶ä¼˜å…ˆ**ï¼šä¼˜å…ˆè¯»å– `.xlsx.json` æ—æ–‡ä»¶è·å–å…ƒæ•°æ®
4. **å…œåº•ç­–ç•¥**ï¼šæ— æ—æ–‡ä»¶æ—¶ä»è·¯å¾„å’Œæ–‡ä»¶åæ¨æ–­å…ƒæ•°æ®

#### å¿«é€Ÿæ¨¡å¼ä¼˜åŒ–
- **è·³è¿‡å“ˆå¸Œè®¡ç®—**ï¼šæå‡æ‰«æé€Ÿåº¦70%ï¼ˆä»6.53ç§’é™è‡³1.98ç§’ï¼‰
- **è¿›åº¦åé¦ˆ**ï¼šæ¯100ä¸ªæ–‡ä»¶è¾“å‡ºä¸€æ¬¡è¿›åº¦
- **ç¼“å­˜æœºåˆ¶**ï¼šæ‰«æç»“æœç¼“å­˜5åˆ†é’Ÿï¼Œé¿å…é‡å¤æ‰«æ

### 2. æ™ºèƒ½å­—æ®µæ˜ å°„ç®—æ³•

#### æ˜ å°„ç­–ç•¥ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰

##### A. å†å²æ˜ å°„åŒ¹é…ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰
```python
# ä»å†å²è®°å½•ä¸­æŸ¥æ‰¾å®Œå…¨åŒ¹é…çš„æ˜ å°„
mapping_key = f"{platform}:{data_type}"  # ä¾‹å¦‚: "shopee:products"
if mapping_key in history:
    return history[mapping_key]  # ç½®ä¿¡åº¦: 100%
```

##### B. ç²¾ç¡®åŒ¹é…
```python
# æºåˆ—åä¸æ ‡å‡†å­—æ®µå®Œå…¨ä¸€è‡´ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰
if source_column.lower() == standard_field.lower():
    return FieldMapping(
        source_column=source_column,
        confidence=100.0,
        method="exact_match"
    )
```

##### C. åŒä¹‰è¯åŒ¹é…
```python
# åŸºäºé¢„å®šä¹‰çš„åŒä¹‰è¯è¡¨
synonyms = {
    "product_id": ["å•†å“ID", "äº§å“ç¼–å·", "SKU", "item_id"],
    "product_name": ["å•†å“åç§°", "äº§å“åç§°", "title", "item_name"],
    ...
}
if source_column in synonyms[standard_field]:
    return FieldMapping(
        source_column=source_column,
        confidence=95.0,
        method="synonym_match"
    )
```

##### D. æ¨¡ç³ŠåŒ¹é…
```python
# ä½¿ç”¨å­—ç¬¦ä¸²ç›¸ä¼¼åº¦ç®—æ³•ï¼ˆLevenshteinè·ç¦»ï¼‰
from difflib import SequenceMatcher
similarity = SequenceMatcher(None, source_column, standard_field).ratio()
if similarity >= 0.8:
    return FieldMapping(
        source_column=source_column,
        confidence=similarity * 100,
        method="fuzzy_match"
    )
```

##### E. è¯­ä¹‰åŒ¹é…ï¼ˆæœªæ¥æ‰©å±•ï¼‰
```python
# åŸºäºNLPè¯­ä¹‰ç†è§£ï¼ˆé¢„ç•™æ¥å£ï¼‰
# ä½¿ç”¨è¯å‘é‡æˆ–BERTæ¨¡å‹è®¡ç®—è¯­ä¹‰ç›¸ä¼¼åº¦
```

#### ç½®ä¿¡åº¦è¯„åˆ†

```python
# æ•´ä½“ç½®ä¿¡åº¦ = æ‰€æœ‰å­—æ®µç½®ä¿¡åº¦çš„åŠ æƒå¹³å‡
total_confidence = sum(
    field.confidence * field.weight 
    for field in mappings.values()
) / sum(field.weight for field in mappings.values())
```

**ç½®ä¿¡åº¦ç­‰çº§**ï¼š
- **100%**ï¼šå†å²æ˜ å°„æˆ–ç²¾ç¡®åŒ¹é…ï¼ˆç»¿è‰²èƒŒæ™¯ï¼‰
- **80-99%**ï¼šåŒä¹‰è¯åŒ¹é…æˆ–é«˜ç›¸ä¼¼åº¦ï¼ˆé»„è‰²èƒŒæ™¯ï¼‰
- **60-79%**ï¼šä¸­ç­‰ç›¸ä¼¼åº¦ï¼ˆæ©™è‰²èƒŒæ™¯ï¼‰
- **<60%**ï¼šä½ç›¸ä¼¼åº¦æˆ–æœªæ˜ å°„ï¼ˆçº¢è‰²èƒŒæ™¯ï¼‰

### 3. å†å²æ˜ å°„å­¦ä¹ æœºåˆ¶

#### å­˜å‚¨ç»“æ„
```json
{
  "shopee:products": {
    "product_id": "å•†å“ID",
    "product_name": "å•†å“åç§°",
    "price": "ä»·æ ¼",
    ...
  },
  "tiktok:products": {
    "product_id": "Product ID",
    "product_name": "Product Name",
    "price": "Price",
    ...
  }
}
```

#### å­¦ä¹ æµç¨‹
1. **ç”¨æˆ·ç¡®è®¤æ˜ å°„** â†’ ä¿å­˜åˆ°å†å²è®°å½•
2. **ä¸‹æ¬¡é‡åˆ°ç›¸åŒå¹³å°+æ•°æ®åŸŸ** â†’ è‡ªåŠ¨åº”ç”¨å†å²æ˜ å°„
3. **æŒç»­ä¼˜åŒ–** â†’ éšç€ç¡®è®¤æ¬¡æ•°å¢åŠ ï¼Œç½®ä¿¡åº¦æå‡

#### å­˜å‚¨ä½ç½®
- **æ–‡ä»¶è·¯å¾„**ï¼š`data/mapping_history.json`
- **æ ¼å¼**ï¼šJSON
- **æ›´æ–°ç­–ç•¥**ï¼šæ¯æ¬¡ç¡®è®¤æ˜ å°„åç«‹å³ä¿å­˜

### 4. ç¼“å­˜å’Œæ‡’åŠ è½½æœºåˆ¶

#### å¤šå±‚ç¼“å­˜ç­–ç•¥

```python
# ç¬¬ä¸€å±‚ï¼šæ–‡ä»¶æ‰«æç¼“å­˜ï¼ˆTTL=300ç§’ï¼‰
@st.cache_data(ttl=300)
def scan_files_cached():
    scanner = EnhancedCatalogScanner(fast_mode=True)
    return scanner.scan_and_analyze()

# ç¬¬äºŒå±‚ï¼šExcelè¯»å–ç¼“å­˜ï¼ˆTTL=600ç§’ï¼‰
@st.cache_data(ttl=600)
def read_excel_cached(file_path: str):
    return _read_excel_with_header_inference(Path(file_path))

# ç¬¬ä¸‰å±‚ï¼šå­—æ®µæ˜ å°„ç¼“å­˜ï¼ˆTTL=600ç§’ï¼‰
@st.cache_data(ttl=600)
def map_fields_cached(columns: list, metadata: dict):
    return mapper.map_fields(columns=columns, metadata=metadata)
```

#### æ‡’åŠ è½½è®¾è®¡

```
é¡µé¢åŠ è½½ â†’ æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨ï¼ˆå¿«é€Ÿï¼‰
    â†“
ç”¨æˆ·é€‰æ‹©æ–‡ä»¶ â†’ æ˜¾ç¤ºæ–‡ä»¶è¯¦æƒ…ï¼ˆå¿«é€Ÿï¼‰
    â†“
ç”¨æˆ·ç‚¹å‡»ã€Œåˆ†ææ­¤æ–‡ä»¶ã€â†’ è¯»å–Excel + å­—æ®µæ˜ å°„ï¼ˆæŒ‰éœ€ï¼‰
```

**ä¼˜åŠ¿**ï¼š
- é¡µé¢é¦–æ¬¡åŠ è½½æ—¶é—´ < 2ç§’
- ç”¨æˆ·å¯ä»¥å¿«é€Ÿæµè§ˆæ–‡ä»¶åˆ—è¡¨
- é¿å…ä¸å¿…è¦çš„è®¡ç®—å’ŒI/Oæ“ä½œ

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æ“ä½œæµç¨‹

#### æ­¥éª¤1ï¼šæ‰“å¼€ç•Œé¢

è®¿é—® Streamlit ç•Œé¢ï¼š
```
http://localhost:8503
â†’ å¯¼èˆªåˆ°ã€Œå­—æ®µæ˜ å°„å®¡æ ¸ã€é¡µé¢
```

**é¦–æ¬¡åŠ è½½**ï¼š
- ç³»ç»Ÿè‡ªåŠ¨æ‰«æ `temp/outputs` ç›®å½•
- æ˜¾ç¤ºæ–‡ä»¶ç»Ÿè®¡ä¿¡æ¯ï¼ˆæ€»æ–‡ä»¶æ•°ã€æœ‰æ•ˆæ–‡ä»¶ã€æœ‰æ—æ–‡ä»¶ç­‰ï¼‰
- æ‰«ææ—¶é—´ï¼šçº¦2ç§’ï¼ˆ413ä¸ªæ–‡ä»¶ï¼‰

#### æ­¥éª¤2ï¼šæµè§ˆæ–‡ä»¶åˆ—è¡¨

**ç•Œé¢å¸ƒå±€**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” æ™ºèƒ½å­—æ®µæ˜ å°„å®¡æ ¸ç³»ç»Ÿ                  â”‚
â”‚ AIé©±åŠ¨çš„å­—æ®µæ˜ å°„ Â· äººæœºåä½œå­¦ä¹  Â· æŒç»­ä¼˜åŒ– â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ”„ åˆ·æ–°æ–‡ä»¶åˆ—è¡¨]  ğŸ’¡ æç¤ºï¼šæ–‡ä»¶åˆ—è¡¨æ¯5åˆ†é’Ÿè‡ªåŠ¨åˆ·æ–° â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ æ€»æ–‡ä»¶æ•°  âœ… æœ‰æ•ˆæ–‡ä»¶  ğŸ“‹ æœ‰æ—æ–‡ä»¶  âš ï¸ æ— æ—æ–‡ä»¶  âš¡ æ‰«æè€—æ—¶ â”‚
â”‚    413         413        407         6         1.98ç§’  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š é€‰æ‹©å¹³å°                              â”‚
â”‚ [shopee (350ä¸ªæ–‡ä»¶) â–¼]                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‚ é€‰æ‹©æ•°æ®åŸŸ                            â”‚
â”‚ [products (120ä¸ªæ–‡ä»¶) â–¼]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ é€‰æ‹©æ–‡ä»¶                              â”‚
â”‚ [20250916_143612__...xlsx â–¼]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ“ä½œè¯´æ˜**ï¼š
1. **é€‰æ‹©å¹³å°**ï¼šä»ä¸‹æ‹‰åˆ—è¡¨é€‰æ‹©å¹³å°ï¼ˆshopee/tiktok/miaoshouç­‰ï¼‰
2. **é€‰æ‹©æ•°æ®åŸŸ**ï¼šé€‰æ‹©æ•°æ®ç±»å‹ï¼ˆproducts/orders/trafficç­‰ï¼‰
3. **é€‰æ‹©æ–‡ä»¶**ï¼šé€‰æ‹©å…·ä½“çš„é‡‡é›†æ–‡ä»¶

#### æ­¥éª¤3ï¼šæŸ¥çœ‹æ–‡ä»¶è¯¦æƒ…

é€‰æ‹©æ–‡ä»¶åï¼Œç³»ç»Ÿæ˜¾ç¤ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ æ–‡ä»¶è¯¦æƒ…                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ä»¶å: 20250916_143612__...xlsx        â”‚
â”‚ å¹³å°: shopee                             â”‚
â”‚ åº—é“º: clicks.sg                          â”‚
â”‚ æ•°æ®åŸŸ: products                         â”‚
â”‚ ç²’åº¦: daily                              â”‚
â”‚                                         â”‚
â”‚ æ—¥æœŸèŒƒå›´: 2025-09-15 ~ 2025-09-15       â”‚
â”‚ æ–‡ä»¶å¤§å°: 125.34 KB                      â”‚
â”‚ å…ƒæ•°æ®æ¥æº: manifest                     â”‚
â”‚ æ–‡ä»¶å“ˆå¸Œ: skipped_in_fast_mode           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ­¥éª¤4ï¼šåˆ†ææ–‡ä»¶

ç‚¹å‡»ã€ŒğŸš€ åˆ†ææ­¤æ–‡ä»¶ã€æŒ‰é’®ï¼š

**ç³»ç»Ÿæ‰§è¡Œ**ï¼š
1. è¯»å–Excelæ–‡ä»¶ï¼ˆç¼“å­˜ï¼‰
2. æ‰§è¡Œæ™ºèƒ½å­—æ®µæ˜ å°„ï¼ˆç¼“å­˜ï¼‰
3. æ˜¾ç¤ºæ˜ å°„ç»“æœ

**æ˜ å°„ç»“æœå±•ç¤º**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” æ™ºèƒ½å­—æ®µæ˜ å°„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ˜ å°„é”®: shopee:products                  â”‚
â”‚ æ•´ä½“ç½®ä¿¡åº¦: 95.50%                       â”‚
â”‚ æ˜ å°„å­—æ®µæ•°: 18/20                        â”‚
â”‚ æœªæ˜ å°„åˆ—: 2                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å­—æ®µæ˜ å°„è¯¦æƒ…                             â”‚
â”‚                                         â”‚
â”‚ æ ‡å‡†å­—æ®µ      æºåˆ—å        ç½®ä¿¡åº¦  åŒ¹é…æ–¹æ³• â”‚
â”‚ product_id   å•†å“ID        100.0%  exact   â”‚
â”‚ product_name å•†å“åç§°      100.0%  exact   â”‚
â”‚ price        ä»·æ ¼          100.0%  exact   â”‚
â”‚ stock        åº“å­˜          95.0%   synonym â”‚
â”‚ ...                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é¢œè‰²æ ‡è®°**ï¼š
- ğŸŸ¢ ç»¿è‰²ï¼šç½®ä¿¡åº¦100%ï¼ˆç²¾ç¡®åŒ¹é…ï¼‰
- ğŸŸ¡ é»„è‰²ï¼šç½®ä¿¡åº¦80-99%ï¼ˆåŒä¹‰è¯åŒ¹é…ï¼‰
- ğŸŸ  æ©™è‰²ï¼šç½®ä¿¡åº¦60-79%ï¼ˆæ¨¡ç³ŠåŒ¹é…ï¼‰
- ğŸ”´ çº¢è‰²ï¼šæœªæ˜ å°„æˆ–ç½®ä¿¡åº¦<60%

#### æ­¥éª¤5ï¼šå®¡æ ¸å’Œç¡®è®¤

**æ“ä½œæŒ‰é’®**ï¼š

1. **âœ… ç¡®è®¤æ˜ å°„å¹¶ä¿å­˜**
   - åŠŸèƒ½ï¼šä¿å­˜å½“å‰æ˜ å°„åˆ°å†å²è®°å½•
   - æ•ˆæœï¼šä¸‹æ¬¡é‡åˆ°ç›¸åŒå¹³å°+æ•°æ®åŸŸæ—¶è‡ªåŠ¨åº”ç”¨
   - æç¤ºï¼šä¿å­˜æˆåŠŸåæ˜¾ç¤ºæ°”çƒåŠ¨ç”»

2. **ğŸ”„ æ‰‹åŠ¨è°ƒæ•´æ˜ å°„**ï¼ˆå¼€å‘ä¸­ï¼‰
   - åŠŸèƒ½ï¼šæ‰‹åŠ¨ä¿®æ”¹å­—æ®µæ˜ å°„å…³ç³»
   - åœºæ™¯ï¼šAIæ˜ å°„ä¸å‡†ç¡®æ—¶ä½¿ç”¨

3. **ğŸš€ ç¡®è®¤å¹¶å…¥åº“**ï¼ˆå¼€å‘ä¸­ï¼‰
   - åŠŸèƒ½ï¼šç¡®è®¤æ˜ å°„åç›´æ¥è§¦å‘æ•°æ®å…¥åº“
   - æµç¨‹ï¼šæ˜ å°„ç¡®è®¤ â†’ æ•°æ®éªŒè¯ â†’ å…¥åº“

#### æ­¥éª¤6ï¼šæŸ¥çœ‹æ•°æ®é¢„è§ˆ

ç³»ç»Ÿæ˜¾ç¤ºå‰10è¡Œæ•°æ®é¢„è§ˆï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š æ•°æ®é¢„è§ˆ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å•†å“ID  å•†å“åç§°      ä»·æ ¼   åº“å­˜  ...   â”‚
â”‚ 12345  LEDç¯æ³¡       29.9   100   ...   â”‚
â”‚ 12346  æ™ºèƒ½æ’åº§      49.9   50    ...   â”‚
â”‚ ...                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŠŸèƒ½æŒ‰é’®è¯´æ˜

#### ğŸ”„ åˆ·æ–°æ–‡ä»¶åˆ—è¡¨
- **ä½ç½®**ï¼šé¡µé¢é¡¶éƒ¨
- **åŠŸèƒ½**ï¼šæ¸…é™¤ç¼“å­˜å¹¶é‡æ–°æ‰«ææ–‡ä»¶
- **ä½¿ç”¨åœºæ™¯**ï¼š
  - æ–°å¢äº†é‡‡é›†æ–‡ä»¶
  - ä¿®æ”¹äº†æ–‡ä»¶å†…å®¹
  - ç¼“å­˜æ•°æ®ä¸å‡†ç¡®

#### ğŸš€ åˆ†ææ­¤æ–‡ä»¶
- **ä½ç½®**ï¼šæ–‡ä»¶è¯¦æƒ…ä¸‹æ–¹
- **åŠŸèƒ½**ï¼šè¯»å–Excelå¹¶æ‰§è¡Œå­—æ®µæ˜ å°„
- **ä½¿ç”¨åœºæ™¯**ï¼šé€‰æ‹©æ–‡ä»¶åï¼Œéœ€è¦æŸ¥çœ‹å­—æ®µæ˜ å°„ç»“æœ

#### âœ… ç¡®è®¤æ˜ å°„å¹¶ä¿å­˜
- **ä½ç½®**ï¼šæ˜ å°„ç»“æœä¸‹æ–¹
- **åŠŸèƒ½**ï¼šä¿å­˜æ˜ å°„åˆ°å†å²è®°å½•
- **ä½¿ç”¨åœºæ™¯**ï¼šç¡®è®¤æ˜ å°„å‡†ç¡®åä¿å­˜

### å¤„ç†æ˜ å°„é”™è¯¯

#### åœºæ™¯1ï¼šå­—æ®µæœªæ˜ å°„

**é—®é¢˜**ï¼šæŸäº›å­—æ®µæ˜¾ç¤º"âŒ æœªæ˜ å°„"

**åŸå› **ï¼š
- æºæ–‡ä»¶ä¸­æ²¡æœ‰å¯¹åº”çš„åˆ—
- åˆ—åå·®å¼‚å¤ªå¤§ï¼Œæ— æ³•è‡ªåŠ¨åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æºæ–‡ä»¶æ˜¯å¦åŒ…å«è¯¥å­—æ®µ
2. ä½¿ç”¨ã€Œæ‰‹åŠ¨è°ƒæ•´æ˜ å°„ã€åŠŸèƒ½ï¼ˆå¼€å‘ä¸­ï¼‰
3. è”ç³»ç®¡ç†å‘˜æ·»åŠ åŒä¹‰è¯è§„åˆ™

#### åœºæ™¯2ï¼šæ˜ å°„ç½®ä¿¡åº¦ä½

**é—®é¢˜**ï¼šæŸäº›å­—æ®µç½®ä¿¡åº¦<80%

**åŸå› **ï¼š
- åˆ—åç›¸ä¼¼åº¦ä¸é«˜
- é¦–æ¬¡é‡åˆ°è¯¥å¹³å°/æ•°æ®åŸŸ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. äººå·¥å®¡æ ¸æ˜ å°„æ˜¯å¦æ­£ç¡®
2. å¦‚æ­£ç¡®ï¼Œç‚¹å‡»ã€Œç¡®è®¤æ˜ å°„å¹¶ä¿å­˜ã€
3. ç³»ç»Ÿå­¦ä¹ åï¼Œä¸‹æ¬¡è‡ªåŠ¨åº”ç”¨

#### åœºæ™¯3ï¼šæ˜ å°„é”™è¯¯

**é—®é¢˜**ï¼šAIæ˜ å°„çš„å­—æ®µä¸æ­£ç¡®

**åŸå› **ï¼š
- åˆ—åç›¸ä¼¼ä½†å«ä¹‰ä¸åŒ
- å†å²æ˜ å°„è®°å½•é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ä½¿ç”¨ã€Œæ‰‹åŠ¨è°ƒæ•´æ˜ å°„ã€åŠŸèƒ½ï¼ˆå¼€å‘ä¸­ï¼‰
2. ä¿®æ­£åä¿å­˜ï¼Œè¦†ç›–å†å²è®°å½•

---

## ğŸ”„ æ•°æ®æµç¨‹

### å®Œæ•´æ•°æ®æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. æ•°æ®é‡‡é›†     â”‚
â”‚  (Playwright)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. æ–‡ä»¶è½ç›˜     â”‚
â”‚  temp/outputs/  â”‚
â”‚  + æ—æ–‡ä»¶.json  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ–‡ä»¶æ‰«æ     â”‚  â† å½“å‰ç³»ç»Ÿ
â”‚  (Scanner)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. å­—æ®µæ˜ å°„     â”‚  â† å½“å‰ç³»ç»Ÿ
â”‚  (AI Mapper)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. äººå·¥å®¡æ ¸     â”‚  â† å½“å‰ç³»ç»Ÿ
â”‚  (UI Review)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  6. æ•°æ®å…¥åº“     â”‚  (å¼€å‘ä¸­)
â”‚  (Database)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  7. æ•°æ®åˆ†æ     â”‚
â”‚  (Analytics)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ—æ–‡ä»¶ï¼ˆ.xlsx.jsonï¼‰çš„ä½œç”¨

#### æ—æ–‡ä»¶ç¤ºä¾‹
```json
{
  "file_name": "20250916_143612__shopeeæ–°åŠ å¡3cåº—__clicks.sg__products__daily__2025-09-15_2025-09-15.xlsx",
  "platform": "shopee",
  "account_label": "shopeeæ–°åŠ å¡3cåº—",
  "shop_name": "clicks.sg",
  "shop_id": "1407964586",
  "region": "SG",
  "data_type": "products",
  "subtype": null,
  "granularity": "daily",
  "start_date": "2025-09-15",
  "end_date": "2025-09-15",
  "exported_at": "2025-09-16T14:36:12",
  "source": "shopee_collector",
  "version": "1.0.0"
}
```

#### æ—æ–‡ä»¶çš„ä½œç”¨

1. **å…ƒæ•°æ®å­˜å‚¨**ï¼š
   - å¹³å°ã€åº—é“ºã€æ•°æ®åŸŸã€ç²’åº¦ç­‰å…³é”®ä¿¡æ¯
   - æ—¥æœŸèŒƒå›´ã€å¯¼å‡ºæ—¶é—´ç­‰æ—¶é—´ä¿¡æ¯
   - é‡‡é›†æ¥æºã€ç‰ˆæœ¬ç­‰æº¯æºä¿¡æ¯

2. **å¿«é€Ÿè¯†åˆ«**ï¼š
   - æ— éœ€è§£ææ–‡ä»¶åæˆ–è·¯å¾„
   - ç›´æ¥è¯»å–JSONè·å–å…ƒæ•°æ®
   - æå‡æ‰«æé€Ÿåº¦

3. **æ•°æ®æº¯æº**ï¼š
   - è®°å½•æ•°æ®æ¥æºå’Œé‡‡é›†æ—¶é—´
   - ä¾¿äºé—®é¢˜è¿½è¸ªå’Œæ•°æ®å®¡è®¡
   - æ”¯æŒæ•°æ®ç‰ˆæœ¬ç®¡ç†

4. **å­—æ®µæ˜ å°„è¾…åŠ©**ï¼š
   - æä¾›å¹³å°å’Œæ•°æ®åŸŸä¿¡æ¯
   - å¸®åŠ©é€‰æ‹©æ­£ç¡®çš„æ˜ å°„è§„åˆ™
   - æå‡æ˜ å°„å‡†ç¡®æ€§

### å­—æ®µæ˜ å°„å†å²è®°å½•

#### å­˜å‚¨ç»“æ„
```json
{
  "shopee:products": {
    "product_id": "å•†å“ID",
    "product_name": "å•†å“åç§°",
    "price": "ä»·æ ¼",
    "stock": "åº“å­˜",
    "sales": "é”€é‡",
    ...
  },
  "tiktok:products": {
    "product_id": "Product ID",
    "product_name": "Product Name",
    "price": "Price",
    "stock": "Stock",
    "sales": "Sales",
    ...
  }
}
```

#### ä½¿ç”¨æµç¨‹

1. **é¦–æ¬¡æ˜ å°„**ï¼š
   - AIè‡ªåŠ¨åŒ¹é…å­—æ®µ
   - ç”¨æˆ·å®¡æ ¸ç¡®è®¤
   - ä¿å­˜åˆ°å†å²è®°å½•

2. **åç»­æ˜ å°„**ï¼š
   - æ£€æµ‹åˆ°ç›¸åŒå¹³å°+æ•°æ®åŸŸ
   - è‡ªåŠ¨åº”ç”¨å†å²æ˜ å°„
   - ç½®ä¿¡åº¦100%

3. **æŒç»­ä¼˜åŒ–**ï¼š
   - ç”¨æˆ·ä¿®æ­£é”™è¯¯æ˜ å°„
   - è¦†ç›–å†å²è®°å½•
   - ç³»ç»ŸæŒç»­å­¦ä¹ 

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒç»„ä»¶

```
frontend_streamlit/pages/40_å­—æ®µæ˜ å°„å®¡æ ¸.py
â”œâ”€â”€ EnhancedCatalogScanner (æ–‡ä»¶æ‰«æå™¨)
â”œâ”€â”€ SmartFieldMapper (æ™ºèƒ½å­—æ®µæ˜ å°„å™¨)
â”œâ”€â”€ MappingHistoryManager (æ˜ å°„å†å²ç®¡ç†å™¨)
â””â”€â”€ IngestionWorker (æ•°æ®å…¥åº“å·¥å…·)
```

### ä¾èµ–å…³ç³»

```
40_å­—æ®µæ˜ å°„å®¡æ ¸.py
    â†“
modules/services/
    â”œâ”€â”€ enhanced_catalog_scanner.py
    â”œâ”€â”€ smart_field_mapper.py
    â”œâ”€â”€ mapping_history_manager.py
    â””â”€â”€ ingestion_worker.py
```

### é…ç½®æ–‡ä»¶

```
config/field_mappings_v2.yaml  # å­—æ®µæ˜ å°„è§„åˆ™
data/mapping_history.json      # æ˜ å°„å†å²è®°å½•
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### ä¼˜åŒ–æªæ–½

1. **å¿«é€Ÿæ‰«ææ¨¡å¼**ï¼šè·³è¿‡å“ˆå¸Œè®¡ç®—ï¼Œæ€§èƒ½æå‡70%
2. **å¤šå±‚ç¼“å­˜**ï¼šæ–‡ä»¶æ‰«æã€Excelè¯»å–ã€å­—æ®µæ˜ å°„ä¸‰å±‚ç¼“å­˜
3. **æ‡’åŠ è½½**ï¼šæŒ‰éœ€åŠ è½½ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—
4. **è¿›åº¦åé¦ˆ**ï¼šæ¯100ä¸ªæ–‡ä»¶è¾“å‡ºä¸€æ¬¡è¿›åº¦

### æ€§èƒ½æŒ‡æ ‡

- **é¦–æ¬¡æ‰«æ**ï¼š1.98ç§’ï¼ˆ413ä¸ªæ–‡ä»¶ï¼‰
- **ç¼“å­˜å‘½ä¸­**ï¼š< 0.5ç§’
- **æ–‡ä»¶åˆ†æ**ï¼š< 1ç§’
- **æ•´ä½“æ€§èƒ½æå‡**ï¼š90%+

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šç•Œé¢å¡åœ¨"æ­£åœ¨æ‰«æé‡‡é›†æ–‡ä»¶..."

**åŸå› **ï¼š
- æ–‡ä»¶æ•°é‡è¿‡å¤š
- ç½‘ç»œæˆ–ç£ç›˜I/Oæ…¢
- ç¼“å­˜å¤±æ•ˆ

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç­‰å¾…æ‰«æå®Œæˆï¼ˆçº¦2ç§’ï¼‰
2. ç‚¹å‡»ã€Œåˆ·æ–°ã€æŒ‰é’®é‡è¯•
3. æ£€æŸ¥ `temp/outputs` ç›®å½•æ˜¯å¦å­˜åœ¨

### é—®é¢˜2ï¼šå­—æ®µæ˜ å°„ä¸å‡†ç¡®

**åŸå› **ï¼š
- é¦–æ¬¡é‡åˆ°è¯¥å¹³å°/æ•°æ®åŸŸ
- åˆ—åå·®å¼‚è¾ƒå¤§

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. äººå·¥å®¡æ ¸æ˜ å°„ç»“æœ
2. ä½¿ç”¨ã€Œæ‰‹åŠ¨è°ƒæ•´æ˜ å°„ã€åŠŸèƒ½
3. ç¡®è®¤åä¿å­˜åˆ°å†å²è®°å½•

### é—®é¢˜3ï¼šç¼“å­˜æ•°æ®ä¸æ›´æ–°

**åŸå› **ï¼š
- ç¼“å­˜TTLæœªè¿‡æœŸ
- æ–°æ–‡ä»¶æœªè¢«è¯†åˆ«

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç‚¹å‡»ã€Œåˆ·æ–°æ–‡ä»¶åˆ—è¡¨ã€æŒ‰é’®
2. ç­‰å¾…5åˆ†é’Ÿç¼“å­˜è‡ªåŠ¨è¿‡æœŸ
3. é‡å¯Streamlitåº”ç”¨

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
**æœ€åæ›´æ–°**: 2025-01-26  
**ç»´æŠ¤è€…**: AI ä¸“å®¶çº§æ•°æ®å·¥ç¨‹å¸ˆ

