# 时间范围字段处理方案（用户手动选择版）

## 设计方案

### 核心思路
- ✅ **用户手动选择**：用户在下拉菜单中选择"时间范围"字段
- ✅ **后端统一处理**：数据标准化阶段自动拆分为`start_time`和`end_time`
- ✅ **前端简化**：前端只显示单个映射项，无需自动拆分逻辑

### 实施步骤

#### 1. 添加标准字段
- **字段名称**：时间范围
- **字段代码**：`time_range`
- **数据类型**：`string`（原始存储，后端处理时拆分）
- **数据域**：`general`（通用域）

#### 2. 用户操作流程
```
1. 用户看到原始字段："日期期间" = "26/08/2025-24/09/2025"
2. 用户在下拉菜单中选择："时间范围"
3. 系统映射到：time_range
4. 用户确认映射
```

#### 3. 后端处理流程
```
入库时：
  - 检测到time_range字段
  - 自动解析时间范围格式：26/08/2025-24/09/2025
  - 拆分为：
    - start_time: 2025-08-26 00:00:00
    - end_time: 2025-09-24 00:00:00
  - 删除原始time_range字段
  - 入库start_time和end_time
```

## 优势

1. **用户体验清晰**：用户明确知道这是时间范围字段
2. **前端简化**：不需要复杂的自动拆分逻辑
3. **后端统一处理**：所有时间范围拆分逻辑集中在一个地方
4. **易于维护**：逻辑清晰，易于调试和扩展

## 实施状态

- ✅ 已添加`time_range`标准字段到辞典
- ✅ 已更新数据标准化器，支持time_range字段自动拆分
- ✅ 前端已简化，移除自动拆分逻辑

